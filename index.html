<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<title>EBS Input v3-72</title>

<script async defer src="https://accounts.google.com/gsi/client"></script>
<script async defer src="https://apis.google.com/js/api.js"></script>

<style>
:root{
  --primary:#2c3e50;
  --accent:#27ae60;
  --danger:#c0392b;
  --bg:#f8f9fa;
  --bridge:#2980b9;
  --cache:#8e44ad;
  --test:#e67e22;
}

body{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
  background:var(--bg);
  margin:0;
  padding:10px;
}

.container{
  max-width:960px;
  margin:auto;
  background:#fff;
  padding:15px;
  border-radius:12px;
  box-shadow:0 4px 15px rgba(0,0,0,0.1);
}

.branding-row{
  margin-bottom:10px;
  font-size:1.1rem;
  color:var(--primary);
}
.branding-row b{font-weight:800;}
.branding-row span{
  font-size:0.75rem;
  color:#7f8c8d;
  margin-left:6px;
}

/* ---------- Buttons ---------- */

.header-btns{
  display:flex;
  gap:6px;
  margin-bottom:12px;
}

.btn-lookup{
  flex:1;
  height:52px;
  border:none;
  border-radius:6px;
  color:#fff;
  font-weight:700;
  font-size:0.72rem;
  cursor:pointer;
}

.btn-pull{background:var(--cache);}
.btn-refresh{background:var(--bridge);}
.btn-save{background:var(--accent);}
.btn-test{background:var(--test);}
.btn-reset{background:var(--danger);}

/* ---------- Inputs ---------- */

label{
  font-size:0.7rem;
  font-weight:800;
  display:block;
  margin-bottom:2px;
  color:var(--primary);
}

input, select, textarea{
  width:100%;
  height:38px;
  padding:8px;
  border:1px solid #dcdde1;
  border-radius:6px;
  font-size:16px;
  box-sizing:border-box;
  font-family:inherit;
}

#colT,#colV,#colM{padding:6px;}
#colM{text-align:center;}

.calc-input-wrap{
  display:flex;
  gap:4px;
  align-items:center;
}

.btn-calc-trigger{
  width:30px;
  height:30px;
  border-radius:6px;
  border:1px solid #dcdde1;
  background:#fff;
  cursor:pointer;
}

/* ---------- Chk flag (v3-72 FIX) ---------- */

/* unified size: input + staging */
.chk-toggle,
.stg-chk-toggle{
  width:14px;
  height:14px;
  border-radius:50%;
  border:2px solid #7f8c8d;
  background:#fff;
  cursor:pointer;
  box-sizing:border-box;
}

.chk-toggle[aria-pressed="true"],
.stg-chk-toggle.on{
  background:#2980b9;
  border-color:#2980b9;
}

/* tightened cluster */
.chk-wrap{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:2px;
}

.chk-wrap label{
  font-size:0.65rem;
  margin-bottom:0;
  line-height:1.05;
}

/* ---------- Amount display ---------- */

.amount-box{
  flex:1;
  height:38px;
  border:1px dashed #6abf69;
  border-radius:6px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.4rem;
  font-weight:800;
  color:#4aa85a;
  background:#eaf7ec;
}

/* ---------- Currency ---------- */

.currency-side label{
  font-size:0.65rem;
  text-align:center;
}

.currency-side select{
  height:34px;
  text-align:center;
}

/* ---------- Table ---------- */

table{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
}

th, td{
  padding:6px;
  border-bottom:1px solid #ecf0f1;
  font-size:0.75rem;
  text-align:left;
}

.edit-btn{
  width:26px;
  height:26px;
  border-radius:6px;
  border:none;
  cursor:pointer;
  font-weight:800;
  color:#fff;
}

.edit-btn.e{background:#3498db;}
.edit-btn.c{background:#f39c12;}

.del-x{
  width:14px;
  height:14px;
  border-radius:50%;
  background:#c0392b;
  color:#fff;
  font-size:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:800;
}

/* ---------- Footer ---------- */

.footer-note{
  margin-top:8px;
  text-align:center;
  font-size:0.7rem;
  color:#7f8c8d;
}
</style>
</head>

<body>
<div class="container">

  <div class="branding-row">
    <b>EBS Input</b><span>v3-72</span>
  </div>

  <div class="header-btns">
    <button class="btn-lookup btn-pull">Pull local<br>Lookups</button>
    <button class="btn-lookup btn-refresh">Refresh Lookups<br>from Sheets</button>
    <button class="btn-lookup btn-save">Save to<br>local Lookups</button>
    <button class="btn-lookup btn-test">Pull test<br>Lookups</button>
    <button class="btn-lookup btn-reset">Reset</button>
  </div>

  <!-- (UI layout and JS logic unchanged from v3-71) -->

  <div class="footer-note">iOS Sync Status: Idle</div>
</div>
</body>
</html>
